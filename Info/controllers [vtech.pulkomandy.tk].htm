<!DOCTYPE html>
<html id="document" dir="ltr" lang="en"><head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# fb: http://ogp.me/ns/fb# place: http://ogp.me/ns/place# book: http://ogp.me/ns/book#">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    controllers    [vtech.pulkomandy.tk]
  </title>

  <meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="keywords" content="controllers">
<link rel="search" type="application/opensearchdescription+xml" href="https://vtech.pulkomandy.tk/lib/exe/opensearch.php" title="vtech.pulkomandy.tk">
<link rel="start" href="https://vtech.pulkomandy.tk/">
<link rel="contents" href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=index" title="Sitemap">
<link rel="manifest" href="https://vtech.pulkomandy.tk/lib/exe/manifest.php">
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="https://vtech.pulkomandy.tk/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="https://vtech.pulkomandy.tk/feed.php?mode=list&amp;ns=">
<link rel="alternate" type="text/html" title="Plain HTML" href="https://vtech.pulkomandy.tk/doku.php?do=export_xhtml&amp;id=controllers">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="https://vtech.pulkomandy.tk/doku.php?do=export_raw&amp;id=controllers">
<link rel="canonical" href="https://vtech.pulkomandy.tk/doku.php?id=controllers">
<link rel="stylesheet" href="controllers%20[vtech.pulkomandy.tk]_files/css.css">
<!--[if gte IE 9]><!-->
<script>/*<![CDATA[*/var NS='';var JSINFO = {"id":"controllers","namespace":"","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script src="controllers%20[vtech.pulkomandy.tk]_files/jquery.php" defer="defer"></script>
<script src="controllers%20[vtech.pulkomandy.tk]_files/js.php" defer="defer"></script>
<!--<![endif]-->

  <link rel="shortcut icon" href="https://vtech.pulkomandy.tk/lib/tpl/arctic/images/favicon.ico">

  
</head>
<body>

<div id="skiplinks" class="skiplinks">
  <a href="#dokuwiki__content" class="skiplink">skip to content</a>
</div>

<div id="wrapper" class="show">
  <div class="dokuwiki">

    
    <header class="stylehead">
      <div class="header">
        <div class="pagename">
          [[<a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=backlink">controllers</a>]]
        </div>
        <div class="logo">
          <a href="https://vtech.pulkomandy.tk/doku.php?id=start" id="dokuwiki__top" accesskey="h" title="[ALT+H]">vtech.pulkomandy.tk</a>        </div>
      </div>

            <div class="breadcrumbs">
        <span class="bchead">Trace:</span> <span class="bcsep">•</span> <bdi><a href="https://vtech.pulkomandy.tk/doku.php?id=pinouts" class="breadcrumbs" title="pinouts">pinouts</a></bdi> <span class="bcsep">•</span> <bdi><a href="https://vtech.pulkomandy.tk/doku.php?id=start" class="breadcrumbs" title="start">start</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers" class="breadcrumbs" title="controllers">controllers</a></bdi></span>      </div>
      
          </header>

                  <div class="bar" id="bar__top">
        <div class="bar-left">
          <a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=edit" class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]">Show pagesource</a>        </div>
        <div class="bar-right">
          <a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=admin" class="action admin" rel="nofollow" title="Admin">Admin</a><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=recent" class="action recent" accesskey="r" rel="nofollow" title="Recent Changes [R]">Recent Changes</a><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=index" class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=login&amp;sectok=" class="action login" rel="nofollow" title="Log In">Log In</a>        </div>
    </div>
        
    
    
    
              <div class="left_sidebar">
          <form action="/doku.php?id=start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search"><input type="hidden" name="id" value="controllers"><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in"><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup" style="display: none;"></div></div></form>          <aside class="main_sidebar sidebar_box">

<h1 class="sectionedit1" id="hardware">Hardware</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> V.Smile <a href="https://vtech.pulkomandy.tk/doku.php?id=consoles" class="wikilink1" title="consoles" data-wiki-id="consoles">consoles</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=accessories" class="wikilink1" title="accessories" data-wiki-id="accessories">Accessories</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=development_hardware" class="wikilink1" title="development_hardware" data-wiki-id="development_hardware">Development hardware</a></div>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=cpu" class="wikilink1" title="cpu" data-wiki-id="cpu">CPU</a></div>
<ul>
<li class="level2"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=instruction_encoding" class="wikilink1" title="instruction_encoding" data-wiki-id="instruction_encoding">Instruction encoding</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=memory_map" class="wikilink1" title="memory_map" data-wiki-id="memory_map">Memory map</a>, GPIOs and system registers</div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=ppu" class="wikilink1" title="ppu" data-wiki-id="ppu">PPU</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=sound" class="wikilink1" title="sound" data-wiki-id="sound">Sound</a> </div>
</li>
<li class="level1 node"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=pinouts" class="wikilink1" title="pinouts" data-wiki-id="pinouts">Pinouts</a> and protocols</div>
<ul>
<li class="level2"><div class="li"> <span class="curid"><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers" class="wikilink1" title="controllers" data-wiki-id="controllers">Controllers</a></span></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=io" class="wikilink1" title="io" data-wiki-id="io">IO</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Hardware&quot;,&quot;hid&quot;:&quot;hardware&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-279&quot;} -->
<h1 class="sectionedit2" id="software">Software</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=list_of_games" class="wikilink1" title="list_of_games" data-wiki-id="list_of_games">List of Games</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=development_tools" class="wikilink1" title="development_tools" data-wiki-id="development_tools">Development tools</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=homebrew" class="wikilink1" title="homebrew" data-wiki-id="homebrew">Homebrew</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Software&quot;,&quot;hid&quot;:&quot;software&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;280-369&quot;} -->
<h1 class="sectionedit3" id="misc">Misc</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="https://vtech.pulkomandy.tk/doku.php?id=links" class="wikilink1" title="links" data-wiki-id="links">Links</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Misc&quot;,&quot;hid&quot;:&quot;misc&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;370-&quot;} -->
</aside>
        </div>
        <main class="right_page" id="dokuwiki__content" tabindex="-1">
          <!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle open" style="cursor: pointer;"><strong><span>−</span></strong>Table of Contents</h3>
<div style="" aria-expanded="true">

<ul class="toc">
<li class="level1"><div class="li"><a href="#controller_port">Controller port</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#flow_control">Flow control</a></div></li>
<li class="level2"><div class="li"><a href="#messages_from_the_controller">Messages from the controller</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#joystick">Joystick</a></div></li>
<li class="level3"><div class="li"><a href="#dance_mat">Dance mat</a></div></li>
<li class="level3"><div class="li"><a href="#smart_keyboard_clavier_tip_tap">Smart Keyboard (Clavier Tip Tap)</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#commands_from_the_console">Commands from the console</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="controller_port">Controller port</h1>
<div class="level1">

<p>
6 pin mini DIN (like PS/2 keyboards and mouse). It is a serial port at 4800 baud, 8N1.
</p>

<p>
Pinout (using the standard numbering for mini-DIN connectors) :
</p>
<ol>
<li class="level1"><div class="li"> VCC</div>
</li>
<li class="level1"><div class="li"> CTS (from V.Smile)</div>
</li>
<li class="level1"><div class="li"> Tx (from V.Smile)</div>
</li>
<li class="level1"><div class="li"> GND</div>
</li>
<li class="level1"><div class="li"> Rx (from controller)</div>
</li>
<li class="level1"><div class="li"> RTS (from controller)</div>
</li>
</ol>

<p>
<a href="https://vtech.pulkomandy.tk/lib/exe/fetch.php?media=controller_pulseview_captures.zip" class="media mediafile mf_zip" title="controller_pulseview_captures.zip (2.1&nbsp;KB)">PulseView captures for some controllers</a>
</p>

<p>
<a href="https://vtech.pulkomandy.tk/lib/exe/fetch.php?media=boot_captures.zip" class="media mediafile mf_zip" title="boot_captures.zip (3.4&nbsp;KB)">PulseView
 captures of booting with no controller, with a joystick (both with "Le 
Roi Lion") and with a keyboard (with "Clavier Tip Tap" cartridge)</a>
</p>

</div>

<h2 class="sectionedit2" id="flow_control">Flow control</h2>
<div class="level2">

<p>
The CPU has a single UART that is used to communicate with both 
controllers. This requires flow control to make sure the two controllers
 don't try to communicate at the same time.
</p>

<p>
A controller is activated (both for transmission and reception) by 
setting its CTS pin high. Controllers can request attention from the 
console when they have data to send using their RTS line.
</p>

<p>
The RTS line changes can be detected using IRQ5. Events on the UART (transmit or receive complete) can be detected using IRQ3.
</p>

<p>
The general way to handle this is as follows, starting from an idle state with all CTS low and no pending data transfers
</p>
<ul>
<li class="level1"><div class="li"> If a controller has its RTS pin low, select it by setting the corresponding CTS high</div>
</li>
<li class="level1"><div class="li"> The controller will start transmitting data, receive that from the Rx register until “Rx ready” is cleared</div>
</li>
<li class="level1"><div class="li"> If needed, send a reply to the controller</div>
</li>
<li class="level1"><div class="li"> Make sure the reply is completely sent (“Tx buffer empty” in status register)</div>
</li>
<li class="level1"><div class="li"> Wait until RTS goes high (the controller has nothing to send anymore)</div>
</li>
<li class="level1"><div class="li"> Put CTS low again</div>
</li>
<li class="level1"><div class="li"> Wait a little (in case the 
controller was sending something just as you set CTS low) and read a 
possible last byte from the UART</div>
</li>
<li class="level1"><div class="li"> You are back to idle state</div>
</li>
</ul>

<p>
It is possible to send something to a controller even if it was not requesting RTS:
</p>
<ul>
<li class="level1"><div class="li"> Select the controller by setting the corresponding CTS high</div>
</li>
<li class="level1"><div class="li"> Send data to the controller</div>
</li>
<li class="level1"><div class="li"> Make sure the reply is completely sent (“Tx buffer empty” in status register)</div>
</li>
<li class="level1"><div class="li"> Check that RTS did not become low</div>
</li>
<li class="level1"><div class="li"> Put CTS high again</div>
</li>
<li class="level1"><div class="li"> Back to idle state</div>
</li>
</ul>

<p>
The controller keeps RTS down as long as it has more bytes to send.
</p>

</div>

<h2 class="sectionedit3" id="messages_from_the_controller">Messages from the controller</h2>
<div class="level2">

<p>
When idle (no buttons touched), the console sends a byte every 20ms, it seems to be partially random. I've seen E6, D6, or 96.
</p>

<p>
Every second the controller sends 55 if nothing else is happening.
</p>
<div class="table sectionedit4"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0" colspan="3"> Common to joystick, dance mat and keyboard </th>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign"> Button         </th><th class="col1 leftalign"> Press           </th><th class="col2 leftalign"> Release            </th>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> OK             </td><td class="col1 leftalign"> A1              </td><td class="col2 leftalign"> A0                 </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Quit           </td><td class="col1 leftalign"> A2              </td><td class="col2 leftalign"> A0                 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Help           </td><td class="col1 leftalign"> A3              </td><td class="col2 leftalign"> A0                 </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> ABC            </td><td class="col1 leftalign"> A4              </td><td class="col2 leftalign"> A0                 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Idle (nothing) </td><td class="col1 leftalign" colspan="2"> 55  </td>
	</tr>
</tbody></table></div>

</div>

<h3 class="sectionedit5" id="joystick">Joystick</h3>
<div class="level3">

<p>
The joystick has 5 levels of precision in each direction. For example, C3 is “slightly up”, C7 is “all the way up”.
</p>

<p>
The 4 color buttons are allocated one bit each in the 9x range so it's 
possible to manage multiple of them being pressed at once.
</p>

<p>
The other buttons are Ax with x just being the button number, so it's 
not possible to handle multiple of them being pressed at the same time.
</p>
<div class="table sectionedit6"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign" colspan="3"> Joystick                                            </th>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign"> Button         </th><th class="col1 leftalign"> Press           </th><th class="col2 leftalign"> Release            </th>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> Green          </td><td class="col1 leftalign"> 91              </td><td class="col2 leftalign"> 90                 </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> Blue           </td><td class="col1 leftalign"> 92              </td><td class="col2 leftalign"> 90                 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> Yellow         </td><td class="col1 leftalign"> 94              </td><td class="col2 leftalign"> 90                 </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> Red            </td><td class="col1 leftalign"> 98              </td><td class="col2 leftalign"> 90                 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> Up             </td><td class="col1 leftalign"> C0 83 to C0 87  </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> Down           </td><td class="col1 leftalign"> C0 8B to C0 8F  </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> Left           </td><td class="col1 leftalign"> CB 80 to CF 80  </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> Right          </td><td class="col1 leftalign"> C3 80 to C7 80  </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
</tbody></table></div>

</div>

<h3 class="sectionedit7" id="dance_mat">Dance mat</h3>
<div class="level3">

<p>
Every press sends at least a “joystick position” 2-byte pair, and 
possibly an extra byte for the button itself (some buttons report as 
joystick moves, other as separate buttons). The mapping is not at all 
compatible with the joystick and seems a bit random. Note that for 
example 8B and 8D are different buttons, where on the joystick it would 
be different positions in the same direction.
</p>
<div class="table sectionedit8"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign" colspan="3"> Dance mat                                           </th>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign"> Button         </th><th class="col1 leftalign"> Press           </th><th class="col2 leftalign"> Release            </th>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> 1 / Red        </td><td class="col1 leftalign"> C0 8B           </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> 2 / Up         </td><td class="col1 leftalign"> 92 C0 80        </td><td class="col2 leftalign"> 90 C0 80           </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> 3 / Yellow     </td><td class="col1 leftalign"> CB 80           </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> 4 / Left       </td><td class="col1 leftalign"> C0 8D           </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> 5 / Middle     </td><td class="col1 leftalign"> 91 C0 80        </td><td class="col2 leftalign"> 90 C0 80           </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> 6 / Right      </td><td class="col1 leftalign"> CD 80           </td><td class="col2 leftalign"> C0 80              </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> 7 / Blue       </td><td class="col1 leftalign"> A4 C0 80        </td><td class="col2 leftalign"> A0 C0 80           </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> 8 / Down       </td><td class="col1 leftalign"> 94 C0 80        </td><td class="col2 leftalign"> 90 C0 80           </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> 9 / Green      </td><td class="col1 leftalign"> 98 C0 80        </td><td class="col2 leftalign"> 90 C0 80           </td>
	</tr>
</tbody></table></div>

</div>

<h3 class="sectionedit9" id="smart_keyboard_clavier_tip_tap">Smart Keyboard (Clavier Tip Tap)</h3>
<div class="level3">

<p>
(sorry, I have the French/azerty version so key labels may not match up. The table is in row/column order)
</p>
<div class="table sectionedit10"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0" colspan="2"> Row 1 (top) </th><th class="col2" colspan="2"> Row 2 </th><th class="col4" colspan="2"> Row 3 </th><th class="col6" colspan="2"> Row 4 </th><th class="col8" colspan="2"> Row 5 </th>
	</tr>
	<tr class="row1">
		<th class="col0"> Key </th><th class="col1"> Code </th><th class="col2"> Key </th><th class="col3"> Code </th><th class="col4"> Key </th><th class="col5"> Code </th><th class="col6"> Key </th><th class="col7"> Code </th><th class="col8"> Key </th><th class="col9"> Code </th>
	</tr>
	</thead>
	<tbody><tr class="row2">
		<td class="col0"> Esc </td><td class="col1"> A2 </td><td class="col2"> Dactylo </td><td class="col3"> 22 </td><td class="col4"> Caps </td><td class="col5"> 1A </td><td class="col6"> Shift </td><td class="col7"> A9/AA </td><td class="col8"> Player 1 </td><td class="col9"> 04 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 1 </td><td class="col1"> 33 </td><td class="col2"> A </td><td class="col3"> 23 </td><td class="col4 leftalign">   </td><td class="col5 leftalign">    </td><td class="col6"> W </td><td class="col7"> 13 </td><td class="col8"> Help </td><td class="col9"> A3 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 2 </td><td class="col1"> 34 </td><td class="col2"> Z </td><td class="col3"> 24 </td><td class="col4"> Q </td><td class="col5"> 1B </td><td class="col6"> X </td><td class="col7"> 14 </td><td class="col8"> Symbol </td><td class="col9"> 2C </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 3 </td><td class="col1"> 35 </td><td class="col2"> E </td><td class="col3"> 25 </td><td class="col4"> S </td><td class="col5"> 1C </td><td class="col6"> C </td><td class="col7"> 15 </td><td class="col8"> Space </td><td class="col9"> 05 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 4 </td><td class="col1"> 37 </td><td class="col2"> R </td><td class="col3"> 27 </td><td class="col4"> D </td><td class="col5"> 1D </td><td class="col6"> V </td><td class="col7"> 17 </td><td class="col8"> Player 2 </td><td class="col9"> 0E </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 5 </td><td class="col1"> 36 </td><td class="col2"> T </td><td class="col3"> 26 </td><td class="col4"> F </td><td class="col5"> 1F </td><td class="col6"> B </td><td class="col7"> 16 </td><td class="col8"> Left </td><td class="col9"> 06 </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 6 </td><td class="col1"> 30 </td><td class="col2"> Y </td><td class="col3"> 20 </td><td class="col4"> G </td><td class="col5"> 1E </td><td class="col6"> N </td><td class="col7"> 08 </td><td class="col8"> Down </td><td class="col9"> 0F </td>
	</tr>
	<tr class="row9">
		<td class="col0"> 7 </td><td class="col1"> 31 </td><td class="col2"> U </td><td class="col3"> 21 </td><td class="col4"> H </td><td class="col5"> 18 </td><td class="col6"> , </td><td class="col7"> 11 </td><td class="col8"> Right </td><td class="col9"> 0D </td>
	</tr>
	<tr class="row10">
		<td class="col0"> 8 </td><td class="col1"> 3E </td><td class="col2"> I </td><td class="col3"> 3A </td><td class="col4"> J </td><td class="col5"> 19 </td><td class="col6"> ; </td><td class="col7"> 0C </td><td class="col8"> </td><td class="col9"> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> 9 </td><td class="col1"> 3F </td><td class="col2"> O </td><td class="col3"> 3B </td><td class="col4"> K </td><td class="col5"> 0A </td><td class="col6"> : </td><td class="col7"> 2F </td><td class="col8"> </td><td class="col9"> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> 0 </td><td class="col1"> 38 </td><td class="col2"> P </td><td class="col3"> 3C </td><td class="col4"> L </td><td class="col5"> 0B </td><td class="col6"> Up </td><td class="col7"> 12 </td><td class="col8"> </td><td class="col9"> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> º </td><td class="col1"> 29 </td><td class="col2"> ¨ </td><td class="col3"> 2A </td><td class="col4"> M </td><td class="col5"> 01 </td><td class="col6 leftalign">    </td><td class="col7 leftalign">    </td><td class="col8"> </td><td class="col9"> </td>
	</tr>
	<tr class="row14">
		<td class="col0"> Backspace </td><td class="col1"> 39 </td><td class="col2"> Erase </td><td class="col3"> 3D </td><td class="col4"> Enter </td><td class="col5"> A1 </td><td class="col6 leftalign">   </td><td class="col7 leftalign">   </td><td class="col8"> </td><td class="col9"> </td>
	</tr>
</tbody></table></div>
<ul>
<li class="level1"><div class="li"> Escape is mapped to Quit and works the same</div>
</li>
<li class="level1"><div class="li"> Help is mapped to Help and works the same</div>
</li>
<li class="level1"><div class="li"> Enter is mapped to OK and works the same</div>
</li>
<li class="level1"><div class="li"> Shift sends A9 on press and AA on release</div>
</li>
<li class="level1"><div class="li"> Other keys send their code on press,
 and code | C0 on release (so no code will be in the 90-AF range for 
either press or release to not conflict with the special buttons)</div>
</li>
</ul>

<p>
The joystick at the bottom of the keyboard is similar to the normal 
Joystick but uses different values (to avoid clashing with the keyboard 
release keycode range). There does not seem to be different values 
possible, it's all on or all off.
</p>
<ul>
<li class="level1"><div class="li"> Left: 7F 80</div>
</li>
<li class="level1"><div class="li"> Right: 77 80</div>
</li>
<li class="level1"><div class="li"> Down: 70 8F</div>
</li>
<li class="level1"><div class="li"> Up: 70 87</div>
</li>
</ul>

<p>
Boot sequence:
</p>
<ul>
<li class="level1"><div class="li"> Keyboard sends 52 52 52</div>
</li>
<li class="level1"><div class="li"> Console sends 0x02 0x02 0xE6 0xD6 0x60</div>
</li>
<li class="level1"><div class="li"> Keyboard sends language code</div>
</li>
<li class="level1"><div class="li"> Console: 0x70</div>
</li>
<li class="level1"><div class="li"> Keyboard: 0xBA</div>
</li>
</ul>

<p>
The language codes:
</p>
<ul>
<li class="level1"><div class="li"> 0x40: US</div>
</li>
<li class="level1"><div class="li"> 0x41: UK</div>
</li>
<li class="level1"><div class="li"> 0x42: French</div>
</li>
<li class="level1"><div class="li"> 0x44: German</div>
</li>
</ul>

</div>

<h2 class="sectionedit11" id="commands_from_the_console">Commands from the console</h2>
<div class="level2">

<p>
61, 62, 64 and 68 are sent in reply to color buttons presses. I suspect this controls the lights in the buttons.
60 is sent to turn the light off.
</p>

<p>
These are repeated every 20ms. After the controller sends 55 (idle), the
 game also returns to its idle reply (E6 followed by D6 for example) 
every 20ms.
</p>

</div>

        </main>
      
    
      <footer class="stylefoot">
        <div class="meta">
          <div class="user">
                    </div>
          <div class="doc">
          <bdi>controllers.txt</bdi> · Last modified: 2022/07/08 00:53 by <bdi>simer</bdi>          </div>
        </div>
      </footer>

    <div class="clearer"></div>

    
                <div class="bar" id="bar__bottom">
      <div class="bar-left">
        <a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=edit" class="action source" accesskey="v" rel="nofollow" title="Show pagesource [V]">Show pagesource</a><a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=revisions" class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]">Old revisions</a>      </div>
      <div class="bar-right">
        <a href="https://vtech.pulkomandy.tk/doku.php?id=controllers&amp;do=media&amp;ns=" class="action media" rel="nofollow" title="Media Manager">Media Manager</a><a href="#dokuwiki__top" class="action top" accesskey="t" rel="nofollow" title="Back to top [T]">Back to top</a>      </div>
    </div>
    <div class="clearer"></div>
            
    <div class="footerinc">
  <div class="license"><a href="https://creativecommons.org/licenses/by/4.0/deed.en" rel="license"><img src="controllers%20[vtech.pulkomandy.tk]_files/cc-by.png" alt="CC Attribution 4.0 International"></a></div>
  <a target="_blank" href="https://www.dokuwiki.org/dokuwiki" title="Driven by DokuWiki"><img src="controllers%20[vtech.pulkomandy.tk]_files/button-dw.png" alt="Driven by DokuWiki" width="80" height="15"></a>
  
  <a target="_blank" href="https://vtech.pulkomandy.tk/feed.php" title="Recent changes RSS feed"><img src="controllers%20[vtech.pulkomandy.tk]_files/button-rss.png" alt="Recent changes RSS feed" width="80" height="15"></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS"><img src="controllers%20[vtech.pulkomandy.tk]_files/button-css.png" alt="Valid CSS" width="80" height="15"></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="controllers%20[vtech.pulkomandy.tk]_files/button-xhtml.png" alt="Valid XHTML 1.0" width="80" height="15"></a>
</div>

  </div>
</div>

<div class="no"><img src="controllers%20[vtech.pulkomandy.tk]_files/taskrunner.gif" alt="" width="2" height="1"></div>


</body></html>